<!-- pages/index/index.wxml -->
<view class="container">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-title">é™æ—¶æŠ¢è´­</view>

  <!-- å€’è®¡æ—¶å’Œåˆ·æ–°æŒ‰é’® -->
  <view class="header-section">
    <view wx:if="{{countdown}}" class="countdown">
      è·ç¦»ä¸‹æ¬¡æŠ¢è´­å¼€å§‹è¿˜æœ‰ {{countdown}}
    </view>
    <button class="refresh-btn" bindtap="onRefreshTap">
      <text class="refresh-icon">ğŸ”„</text> åˆ·æ–°
    </button>
  </view>

  <!-- å•†å“åˆ—è¡¨ -->
  <scroll-view scroll-y="true" class="goods-list">
    <view class="goods-card" wx:for="{{goodsList}}" wx:key="id">
      <image class="goods-image" src="{{item.image}}" mode="aspectFill"></image>
      
      <view class="goods-info">
        <view class="goods-title">{{item.name}}</view>
        <view class="goods-desc">{{item.description}}</view>
        <view class="goods-price">Â¥{{item.price}}</view>
        <view class="goods-stock">åº“å­˜ï¼š{{item.stock}}ä»¶</view>
        
        <button 
          class="btn {{item.stock > 0 ? 'btn-primary' : 'btn-disabled'}}" 
          disabled="{{item.stock <= 0}}"
          bindtap="onSeckillTap"
          data-id="{{item.id}}"
        >
          {{item.stock > 0 ? 'ç«‹å³æŠ¢è´­' : 'å·²å”®ç½„'}}
        </button>
      </view>
    </view>
  </scroll-view>
</view>